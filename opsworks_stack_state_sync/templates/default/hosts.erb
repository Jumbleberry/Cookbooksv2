# This file was generated by OpsWorks
# any manual changes will be removed on the next update.

# The following lines are desirable for IPv6 capable hosts
::1 ip6-localhost ip6-loopback
fe00::0 ip6-localnet
ff00::0 ip6-mcastprefix
ff02::1 ip6-allnodes
ff02::2 ip6-allrouters
ff02::3 ip6-allhosts

# OpsWorks Layer State
127.0.0.1 localhost.<%= node[:environment] %> localhost
127.0.1.1 <%= @localhost_name %>.<%= node[:role] %>.<%= node[:environment] %> <%= @localhost_name %>.<%= node[:environment] %> <%= @localhost_name %>

<% @nodes.each do |node| -%>
<% if node.attribute?(:private_ip) && node['private_ip'] %>
<% if Resolv.getaddress(node['private_ip']) -%>
<%= node['private_ip'] %> <%= node['name'] %> <%= node['hostname'] %>
<% else -%>
<%= "# Unable to resolve IP '#{node['private_ip']}' for hostname '#{node['name']}'" %>
<% end -%>
<% end -%>
<% if node.attribute?(:ip) && node['ip'] %>
<% if Resolv.getaddress(node['ip']) -%>
<%= node['ip'] %> <%= node['name'] %>-ext <%= node['hostname'] %>-ext
<% else -%>
<%= "# Unable to resolve IP '#{node['ip']}' for hostname '#{node['name']}'" %>
<% end -%>
<% end -%>
<% end -%>